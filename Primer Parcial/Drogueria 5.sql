USE MASTER
GO

CREATE DATABASE DROGUERIA5
GO

USE DROGUERIA5

CREATE TABLE CLIENTES 
(
	PK_CED_CLI nchar(15), 
 	NOM_CLI nchar(50) NULL,
 	TEL_CLI nchar(20) NULL, 
 	CEL_CLI nchar(20) NULL,
 	DIR_CLI nchar(100) NULL,
 	FEC_ING_CLI datetime,
 	CONSTRAINT PK_DE_CLIENTES PRIMARY KEY (PK_CED_CLI)
)

CREATE TABLE VENDEDORES
(
	PK_CED_VEN nchar(15),
 	NOM_VEN nchar(50) NULL,
 	TEL_VEN nchar(20) NULL,
 	CEL_VEN nchar(20) NULL,
 	DIR_VEN nchar(100) NULL,
 	FEC_ING_VEN datetime NULL,
 	CONSTRAINT PK_DE_VENDEDORES PRIMARY KEY (PK_CED_VEN)
)

CREATE TABLE ENC_FAC
(
	PK_NUM_FAC nchar(15),
 	FK_CED_CLI_FAC nchar(15),
 	FEC_FAC datetime NULL,
 	TOT_FAC int NULL,
 	FK_CED_VEN_FAC nchar(15) NULL,
 	CONSTRAINT PK_DE_ENC_FAC PRIMARY KEY (PK_NUM_FAC),
 	CONSTRAINT FK_CLIENTES_ENC_FAC FOREIGN KEY (FK_CED_CLI_FAC) 
 	REFERENCES CLIENTES(PK_CED_CLI),
 	CONSTRAINT FK_VENDEDORES_ENC_FAC FOREIGN KEY (FK_CED_VEN_FAC) 
 	REFERENCES VENDEDORES(PK_CED_VEN)
)

CREATE TABLE TIPO
(
	PK_ID_TIPO nchar(15),
 	NOM_TIPO nchar(50) NULL,
 	CONSTRAINT PK_DE_TIPO PRIMARY KEY (PK_ID_TIPO)
)

CREATE TABLE MARCA
(
	PK_ID_MARCA nchar(15),
 	NOM_MARCA nchar(50) NULL,
 	CONSTRAINT PK_DE_MARCA PRIMARY KEY (PK_ID_MARCA)
)

CREATE TABLE PROVEEDORES
(
	PK_NIT_PROV nchar(15),
 	NOM_PROV nchar(50) NULL,
 	TEL_PROV nchar(20) NULL,
 	CEL_PROV nchar(20) NULL,
 	DIR_PROV nchar(100) NULL,
 	FEC_ING_PROV datetime NULL,
 	CONSTRAINT PK_DE_PROVEEDORES PRIMARY KEY (PK_NIT_PROV)
)

CREATE TABLE INVENTARIO
(PK_REF_INV nchar(15),
 FK_ID_TIPO_INV nchar(15),
 FK_ID_MARCA_INV nchar(15),
 FK_NIT_PROV_INV nchar(15),
 STOCK_INV int NULL,
 VAL_COSTO_INV int NULL,
 VAL_VENTA_INV int NULL,
 FEC_ING_INV datetime NULL,
 DESC_INV nchar(50) NULL,
 CONSTRAINT PK_DE_INVENTARIO PRIMARY KEY (PK_REF_INV),
 CONSTRAINT FK_INVENTARIO_TIPO FOREIGN KEY (FK_ID_TIPO_INV) 
 REFERENCES TIPO (PK_ID_TIPO),
 CONSTRAINT FK_INVENTARIO_MARCA FOREIGN KEY (FK_ID_MARCA_INV) 
 REFERENCES MARCA (PK_ID_MARCA),
 CONSTRAINT FK_INVENTARIO_PROVEEDORES FOREIGN KEY (FK_NIT_PROV_INV) 
 REFERENCES PROVEEDORES (PK_NIT_PROV)
)

CREATE TABLE DET_FAC
(FK_NUM_FAC_DET nchar(15),
 CANT_ART_DET int NULL,
 FK_REF_ART_DET nchar(15),
 CONSTRAINT FK_DET_FAC_ENC_FAC FOREIGN KEY (FK_NUM_FAC_DET) 
 REFERENCES ENC_FAC (PK_NUM_FAC),
 CONSTRAINT FK_DET_FAC_INVENTARIO FOREIGN KEY (FK_REF_ART_DET) 
 REFERENCES INVENTARIO (PK_REF_INV)
)


INSERT INTO VENDEDORES VALUES
('71667917', 'OLGA TRUJILLO', '5746210', '30144441020', 'CALLE 10 No 20-50', '2001-10-20'),

('70496916', 'PEDRO MORA', '5402001', '3127562211', 'CRRA 6 No 75-25', '2001-10-25')

INSERT INTO CLIENTES VALUES
('45897896', 'CARLOS AGUDELO', '4569875', '3162459871', 'CRRA 80 No 50-23', '2008-10-10'),

('23748596', 'FABIOLA JARAMILLO', '2164589', NULL, 'CALLE 23 No 34-23', '2008-11-05'),

('87459621', 'JUANA FERNANDEZ', '4257869', '3001456798', 'CRRA 79 No 23-12', '2008-12-23'),

('25654987', 'FELIPE SANCHEZ', '3568947', '3012548769', 'CALLE 12 No 56-32', '2009-01-10')

INSERT INTO TIPO VALUES
('ANGS100', 'ANALGESICO'),

('ANTB100', 'ANTIBIOTICO'),

('VACU100', 'VACUNA'),

('ANTS100', 'ANTISEPTICO'),

('ANIF100', 'ANTIINFLAMATORIO')

INSERT INTO MARCA VALUES
('M100', 'BAYER'),

('M200', 'BOEHRINGER INGELHEIM'),

('M300', 'MK')

INSERT INTO PROVEEDORES VALUES
('P100', 'LABORATORIOS ABBOT', '2353468', '3120203154', 'CALLE 90 No 87-12', '2008-09-10'),

('P200', 'BIOCHEM FARMACEUTICA', '4567897', '3109784563', 'CALLE 108 No 67-234', '2008-09-15'),

('P300', 'BIOGEN DE COLOMBIA', '4758595', NULL, 'CRRA 98 No 123-34', '2008-09-16')

INSERT INTO INVENTARIO VALUES
('I100', 'ANGS100', 'M100', 'P100', 400, 5000, 7500, '2009-05-20', 'ACETAMINOFEN 200 MLG SOBRE 10 UNID'),

('I200', 'ANTB100', 'M200', 'P200', 300, 7000, 8500, '2009-05-20', 'AMBRAMICINA 500 MLG SOBRE 10 UNID'),

('I300', 'VACU100', 'M300', 'P300', 250, 15000, 20000, '2009-05-25', 'AMICROMIL AMPOLLA 2 UNID'),

('I400', 'ANTS100', 'M100', 'P300', 300, 3000, 3500, '2009-06-20', 'ALCOHOL BOTELLA MEDIANA'),

('I500', 'ANIF100', 'M200', 'P200', 250, 4500, 5200, '2009-06-21', 'ALOFREM 200 MLG SOBRE 5 UNID'),

('I600', 'ANGS100', 'M300', 'P100', 300, 4500, 5100, '2009-06-27', 'SINUTAB 150 MLG SOBRE 10 UNID'),

('I700', 'ANTB100', 'M100', 'P300', 250, 6000, 6700, '2009-07-21', 'BACTRIM F 200 MLG SOBRE 5 UNID')

INSERT INTO ENC_FAC VALUES
('F100', '45897896', '2009-05-11', 16000, '71667917'),

('F101', '23748596', '2009-05-11', 7000, '70496916'),

('F102', '87459621', '2009-06-11', 17000, '70496916'),

('F103', '25654987', '2009-06-15', 59700, '71667917')

INSERT INTO DET_FAC VALUES 
('F100', 1, 'I100'),
('F100', 1, 'I200'),
('F101', 2, 'I400'),
('F102', 1, 'I500'),
('F102', 1, 'I100'),
('F102', 1, 'I200')

INSERT INTO DET_FAC VALUES 
('F103', 1, 'I200'),
('F103', 1, 'I300'),
('F103', 1, 'I400'),
('F103', 1, 'I500'),
('F103', 3, 'I100')
Â 

